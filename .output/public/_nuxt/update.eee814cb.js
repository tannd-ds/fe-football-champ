import{_ as q,a as S}from"./Form.abd1d821.js";import{m as T,i as v,n as w,r as k,g as N,u as U,h as B,w as r,o as C,d as p,t as F,j as s,b as o,a as c,l as G}from"./entry.05f95d07.js";import{_ as M}from"./AppForm.cb4da8ab.js";import{u as j}from"./AppCard.f52cb022.js";import"./uid.5704820d.js";const A={class:"w-full flex gap-4 items-stretch"},R={__name:"update",async setup(E){let l,m;const d=T(),h=v(),y=w();let u="Thêm Mùa Giải Mới",_="http://localhost:8000/api/season/add";const a=k({name_season:"",start_date:"",end_date:"",quantity_team:""});if(d.query.season_id){u="Chỉnh Sửa Mùa Giải",_="http://localhost:8000/api/season/update/"+d.query.season_id;const t=([l,m]=N(()=>j("http://localhost:8000/api/season/edit/"+d.query.season_id,"$VKXb1ni4Fj")),l=await l,m(),l);for(const e in a.value)a.value[e]=t.data.value[0][e]}U({title:u,meta:[{name:"description",content:u}]});async function f(){try{const t=await $fetch(_,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.value)});(t==="Season update successfully"||t==="Season added successfully")&&(h.push("/season"),y.add({title:"Success",description:t}))}catch(t){console.error(t)}}const g=t=>{const e=[];return t.name_season||e.push({path:"name_season",message:"Tên mùa giải không được để trống"}),t.start_date||e.push({path:"start_date",message:"Ngày bắt đầu không được để trống"}),t.end_date||e.push({path:"end_date",message:"Ngày kết thúc không được để trống"}),t.quantity_team||e.push({path:"quantity_team",message:"Số lượng đội không được để trống"}),e};return(t,e)=>{const i=q,V=G,x=S,b=M;return C(),B(b,{class:"w-[768px] h-[4/5vh]"},{header:r(()=>[p(F(s(u)),1)]),main:r(()=>[o(x,{class:"flex flex-col gap-3",state:s(a),validate:g,onSubmit:f},{default:r(()=>[o(i,{modelValue:s(a).name_season,"onUpdate:modelValue":e[0]||(e[0]=n=>s(a).name_season=n),label:"Tên Mùa Giải",name:"name_season",required:""},null,8,["modelValue"]),c("div",A,[o(i,{class:"grow",modelValue:s(a).start_date,"onUpdate:modelValue":e[1]||(e[1]=n=>s(a).start_date=n),label:"Ngày Bắt Đầu",name:"start_date","input-type":"date",required:""},null,8,["modelValue"]),o(i,{class:"grow",modelValue:s(a).end_date,"onUpdate:modelValue":e[2]||(e[2]=n=>s(a).end_date=n),label:"Ngày Kết Thúc",name:"end_date","input-type":"date",required:""},null,8,["modelValue"])]),o(i,{modelValue:s(a).quantity_team,"onUpdate:modelValue":e[3]||(e[3]=n=>s(a).quantity_team=n),label:"Số Lượng Đội",name:"quantity_team","input-type":"number",required:""},null,8,["modelValue"]),c("div",null,[o(V,{size:"xl",type:"submit"},{default:r(()=>[p("Submit")]),_:1})])]),_:1},8,["state"])]),_:1})}}};export{R as default};
